<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>30 Minute Break Tracker</title>
  <meta name="generator" content="Google Web Designer 15.0.0.0913">
  <style id="gwd-text-style">
    p {
      margin: 0px;
    }
    h1 {
      margin: 0px;
    }
    h2 {
      margin: 0px;
    }
    h3 {
      margin: 0px;
    }
  </style>
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
    }
    body {
      background-color: transparent;
      transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      transform-style: preserve-3d;
    }
    body * {
      transform-style: preserve-3d;
    }
    .gwd-button-1j1n {
      position: absolute;
      transform-origin: 115px 52.5px 0px;
      width: 230px;
      height: 100px;
      left: 308px;
      top: 150px;
    }
    .gwd-button-6xgg {
      position: absolute;
      transform-origin: 115px 52.5px 0px;
      width: 230px;
      height: 100px;
      left: 700px;
      top: 150px;
    }
    .gwd-div-1kh0 {
      background-image: none;
      background-color: rgb(241, 142, 10);
      position: absolute;
      text-align: center;
      transform-origin: 50% 50% 0px;
      font-size: 23px;

      height: 37px;
      width: 284px;
      left: 668px;
      top: 322px;
      line-height: 33px;
    }
    .gwd-div-1vu9 {
      background-image: none;
      background-color: rgb(241, 142, 10);
      position: absolute;
      text-align: center;
      transform-origin: 50% 50% 0px;
      font-size: 23px;

      height: 37px;
      width: 350px;
      left: 260px;
      top: 322px;
      line-height: 33px;
    }
    .gwd-input-1e8j {
      position: absolute;
      left: 695px;
      top: 430px;
      width: 222px;
      height: 94px;
      transform-origin: 50% 50% 0px;
    }
    @media (width: 1207px) and (height: 815px) {
      .gwd-button-1j1n {
        transform: translate3d(664px, 187px, 0px) rotateZ(-0.533292deg);
      }
    }
  </style>
</head>

<body class="htmlNoPages">
  <button id="BreakIn" class="gwd-button-1j1n" data-gwd-name="BreakIn" onclick="BreakIn()">Go on break</button>
  <button id="BreakOut" class="gwd-button-6xgg" data-gwd-name="BreakOut" onclick="BreakOut()">Come back from break</button>
  <div id="TotalBreak" class="gwd-div-1vu9">Total Break Remaining 00:00</div>
  <div id="CurrentBreak" class="gwd-div-1kh0">Current Break 00:00</div>
  <form class="gwd-input-1e8j" id="breakhistory">
    Break History: <br>
    <textarea rows="5" cols="40" name="BreakHistory" spellcheck="false" autocomplete="off">
    </textarea>
  </form>
  <script>
    var totalbreak = document.getElementById("TotalBreak")
    var currentbreak = document.getElementById("CurrentBreak")
    var breakinbutton = document.getElementById("BreakIn")
    var breakoutbutton = document.getElementById("BreakOut")
    var breakhistory = document.getElementById("breakhistory")
    var timeoutId = null;
    var ms = 0,
      sec = 0,
      min = 0;
    var secs = 0,
      mins = 0,
      remain = 0;
    var breaktotal = 1800; //30 minutes in seconds
    var i = 1;
    var breaklist = '';
    breakoutbutton.disabled = true;

    function BreakIn() {
      breakinbutton.disabled = true;
      breakoutbutton.disabled = false;
      timeoutId = setTimeout(function() {
        ms = parseInt(ms);
        sec = parseInt(sec);
        ms++;

        if (ms == 100) {
          sec = sec + 1;
          breaktotal--;
          ms = 0;
        }
        if (ms < 10) {
          ms = '0' + ms;
        }
        if (sec < 10) {
          sec = '0' + sec;
        }

        //remove seconds from Total Break
        remain = breaktotal;
        mins = Math.floor(remain / 60);
        remain -= mins * 60;
        secs = remain;

        if (mins < 10) {
          mins = "0" + mins;
        }
        if (secs < 10) {
          secs = "0" + secs;
        }
        totalbreak.innerHTML = 'Total Break Remaining ' + mins + ':' + secs;

        //add seconds to Current Break
        remain = sec;
        mins = Math.floor(remain / 60);
        remain -= mins * 60;
        secs = remain;

        if (mins < 10) {
          mins = "0" + mins;
        }
        if (secs < 10) {
          secs = "0" + secs;
        }
        currentbreak.innerHTML = 'Current Break ' + mins + ':' + secs;

        BreakIn();
      }, 10);
    }

    function BreakOut() {
      breakinbutton.disabled = false;
      breakoutbutton.disabled = true;
      //clear current break and stop countdown
      breaklist += i + '. Break length ' + mins + ':' + secs + '\n';
      i++;
      breakhistory[0].value = breaklist;
      ms = 0;
      sec = 0;
      currentbreak.innerHTML = 'Current Break 00:00'
      clearTimeout(timeoutId)
    }
  </script>
  
</body>

</html>